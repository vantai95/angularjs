/*!
 * Angular KAONSOFT Framework
 * http://www.kaonsoft.com
 * v1.4.1
 */
!function(t,e,n){"use strict";!function(){e.module("ngKaon",["ng","kaon.kernel","kaon.kernel.http","kaon.kernel.native"])}(),function(){e.module("kaon.kernel",["ngCookies","kaon.kernel.http","kaon.kernel.native"])}(),function(){function t(){function t(t,e){var n={"Content-Type":h,"X-Requested-With":d};return null!=e&&(e=v(e)),u("POST",t,e,n)}function n(t,e){var n={"Content-Type":h,"X-Requested-With":d};return null!=e&&(e=v(e)),u("PUT",t,e,n)}function o(t,e){var n={"Content-Type":p};return u("POST",t,e,n)}function i(t,e){var n={"Content-Type":p};return u("PUT",t,e,n)}function r(t,e){var n={"Content-Type":h,"X-Requested-With":d};return u("GET",t,{},n)}function a(t,e){var n={"Content-Type":h,"X-Requested-With":d};return u("DELETE",t,{},n)}function u(t,e,n,o){var i="../InquireData/"+e,r=g.$q.defer(),a=g.$http({method:t,url:i,data:n,headers:o,cache:!1});return a.then(function(t){200==t.status?s(t.data,r):r.reject(t)},function(t){return r.reject(f(t))}),r.promise}function s(t,n){if("ok"==t.result){var o=t.values;if(null!=o){var i=[],r=[];e.forEach(o,function(t,e){var n;n="KEMP.Webservice"==t.adapterProvider?l(t):c(t),null!=n&&(i.push(n),r.push(e))}),g.$q.all(i).then(function(t){var e=t.length;if(1==e)n.resolve(t[0]);else{for(var o={},i=0;i<e;i++)null!=r[i]&&(o[r[i]]=t[i]);n.resolve(o)}})}else n.resolve(t)}else n.resolve(t)}function l(t){return 200==t.statusCode?t.responseBody:null}function c(t){return t.responseBody}function f(t){return t}function v(t){function e(t){return null!==t&&"object"==typeof t}function n(t){return"object"==typeof t&&t instanceof Date}function o(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function i(t,u,s){Array.isArray(t)?t.forEach(function(t,n){i(t,u+"["+(e(t)?n:"")+"]")}):e(t)&&!n(t)?Object.keys(t).forEach(function(e){var n=t[e];i(n,u+(s?"":"[")+e+(s?"":"]"))}):a.push(o(u)+"="+(null==t?"":o(r(t))))}function r(t){return e(t)?n(t)?t.toISOString():JSON.parse(t):t}if(!t)return"";var a=[];return i(t,"",!0),a.join("&")}var p="application/json",h="application/x-www-form-urlencoded; charset=UTF-8",d="XMLHttpRequest";this.$http=null,this.$q=null;var g=this;return{$get:["$http","$q",function(e,u){return g.$http=e,g.$q=u,{post:t,postJson:o,put:n,putJson:i,get:r,"delete":a,error:f}}]}}e.module("kaon.kernel.http",[]).provider("$ksHttp",t)}(),function(){function o(o,i){function r(t){return o.get(t)?o.get(t):""}function a(t,e){var n={};o.put(t,e,n)}function u(){var t=r(m);return t!=n&&""!=t||(t=Math.floor(1e3*Math.random())+100),t}function s(){if(d.length>0){var t=d[0];document.location=t.req}else clearInterval(y),y=null}function l(t){g=u(),++g,a("iosReqCnt",g);var e=""+g;e="00000".substring(0,5-e.length)+e,t="BRIDGE:"+e+":"+t,d.push({no:g,req:t}),null==y&&(y=setInterval(s,100))}function c(t){if(!e.isElement("iframe#__iframe__")){var n="<iframe id='__iframe__'></iframe>",o=e.element(n),i={width:"0px",height:"0px",position:"absolute",top:"0",left:"0"};o.css(i),e.element("body").append(o)}e.element("iframe#__iframe__").attr("src",t)}var f=f||{},v=!1,p=null!=navigator.userAgent.match(/Meerue|KEMP/i),h=null,d=[],g=Math.floor(1e3*Math.random())+100,y=null,m="iosReqCnt";return h=null!=navigator.userAgent.match(/Windows Phone 8.1/i)?"wp8":null!=navigator.userAgent.match(/Android/i)?"android":null!=navigator.userAgent.match(/iPad|iPhone|Macintosh/i)?"ios":"unknown",Object.defineProperty(f,"isAgent",{get:function(){return p}}),Object.defineProperty(f,"isNative",{get:function(){return p}}),Object.defineProperty(f,"osType",{get:function(){return h}}),f.isMock=function(){return v},f.setMock=function(t){"boolean"==typeof t&&t&&(v=t)},f.setOsType=function(t){v&&(h=t)},f.toNative=function(e,n){var o=null;if(o="object"==typeof n?JSON.stringify(n):n,"ios"==h)if(null!=navigator.userAgent.match(/KEMP/i)){var r="JSTONATIVE:/SPLIT/:"+e+":/SPLIT/:"+o;i(function(){document.location=r},200)}else{var r="IOS:/SPLIT/:toApp:/SPLIT/:"+e+":/SPLIT/:"+o;l(r)}else if("android"==h)i(function(){t.Bridge.jsToNative(e,o)},300);else if("wp8"==h){var n='{"functionName":"'+e+'",';n+=!o||o.length<=7?'"warn":"noparam"}':o.substr(1),t.external.notify(n)}},f.log=function(){if("object"==typeof f&&f.isAgent){for(var t="",e=0;e<arguments.length;++e){var n=String(arguments[e]);n=n.replace(/"/g,'\\"'),t+=n,e!=arguments.length-1&&(t+=", ")}f.toNative("logging",'{"msg":"'+t+'"}')}},f.receiveOK=function(t){if(d.length>0){var e=d[0];e.no==t&&d.shift()}},f.launchApp=function(t){if(t){var e=null,n=null;if("ios"==h&&t.iScheme?e=t.iScheme:"android"==h&&t.aScheme?e=t.aScheme:"wp8"==h&&t.wScheme&&(e=t.wScheme),"ios"==h?n=t.iStoreUrl:"android"==h?n=t.aStoreUrl:"wp8"==h&&(n=t.wStoreUrl),e||(e=t.scheme),e){if("android"==h&&f.isAgent)return void f.toNative("launchApp",'{"scheme":"'+e+'","storeUrl":"'+n+'"}');var o=new Date;setTimeout(function(){var t=new Date;return t-o>2e3?void console.log("time over..."):void("android"==h?console.log("call store"):"ios"==h&&redirect(n))},500),c(e)}}},f}function i(t,e,n,o,i,r){this.$timeout=t,this.$location=e,this.$window=n,this.$rootScope=o,this.$q=i,this.toNativeArry=[],this.toNativeWatchArray=[],this.nativeReset=!0,this.$window.kempNative=r}function r(){}o.$inject=["$cookies","$timeout"],i.$inject=["$timeout","$location","$window","$rootScope","$q","$ksIsKemp"],e.module("kaon.kernel.native",["ngCookies"]).service("$ksIsKemp",o).service("$ksNative",i),i.prototype.toNativeAdd=function(){for(var t=this.toNativeArry.length,e=this.toNativeArry.length;t<=e;t++)t==this.toNativeArry.length&&(this.toNativeArry[t]=new r)},i.prototype.isNative=function(){return!!kempNative&&kempNative.isAgent},i.prototype.getOsType=function(){return kempNative?kempNative.osType:""},i.prototype.isAndroid=function(){return"android"==this.getOsType()},i.prototype.isIOS=function(){return"ios"==this.getOsType()},i.prototype.fnNativeArryReset=function(){this.nativeReset&&(this.toNativeArry=[],this.nativeReset=!1)},i.prototype.fnNativeAdd=function(){this.fnNativeArryReset(),this.toNativeAdd()},i.prototype.toNativeWatch=function(t,e,n){var o=this;o[t]={},o[t].toNative=function(t){if(console.info(t),t=t.replace(/\r/gi,"\\r").replace(/\n/gi,"\\n"),null!=t&&t.length>0)try{if("object"==typeof t)var e=t;else var e=JSON.parse(t)}catch(i){console.info(i);var e=t}else var e={};o.$rootScope.$$phase||"$apply"!=o.$rootScope.$$phase&&"$digest"!=o.$rootScope.$$phase?n(e):o.$rootScope.$apply(function(){n(e)})},o.isNative()?(null==e&&(e={}),o.$window[t]=o[t],e.callback=t+".toNative",kempNative.toNative(t,JSON.stringify(e))):o.$timeout(function(){o[t].toNative('{"result":"This data is dummy","resultCode":-1}')},200)},i.prototype.toNative=function(t,e,n){null==n&&(n=!0);var o=this.$q.defer(),i=this.toNativeArry.length,r=this,a=function(){r.toNativeArry[i].toNative=null;var t=r.toNativeArry.filter(function(t,e){return null!=t.toNative});if(t||(r.nativeReset=!0),!r.nativeReset){var e=0;Object.keys(r.toNativeArry).map(function(t,n){r.toNativeArry[t].toNative&&e++}),0==e&&(r.nativeReset=!0)}};return n&&(this.fnNativeAdd(),1==this.toNativeArry.length&&(i=0),this.toNativeArry[i].toNative=function(t){if(console.info(t),t=t.replace(/\r/gi,"\\r").replace(/\n/gi,"\\n"),null!=t&&t.length>0)try{if("object"==typeof t)var e=t;else var e=JSON.parse(t)}catch(n){console.info(n);var e=t}else var e={};r.$rootScope.$$phase?(o.resolve(e),a()):r.$rootScope.$apply(function(){o.resolve(e),a()})}),this.isNative()?(null==e&&(e={}),n&&(this.$window.toNativeArry=this.toNativeArry,e.callback="toNativeArry["+i+"].toNative"),kempNative.toNative(t,JSON.stringify(e))):n&&this.$timeout(function(){r.toNativeArry[i].toNative('{"resultCode":-1,"result":"This data is dummy"}')},200),o.promise}}()}(window,window.angular),window.ngKaon={version:{full:"1.4.1"}};