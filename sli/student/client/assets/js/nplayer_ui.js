function initNPlayerUI(i){g__nplayer_internal_object=i;var o=!1,a=!1;function c(e){return e.originalEvent&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX}function e(){i.setMute(!i.getMute())}function t(){i.setFullscreen(!i.getFullscreen())}function n(e){i.setCurrentPlaybackRate(e)}function u(e){jQuery(".control_text_status").text(e)}jQuery(".wrapper_foot a").click(function(e){e.preventDefault()}),jQuery(".wrapper_foot").each(function(){this.onselectstart=function(){return!1},this.unselectable="on",jQuery(this).css("user-select","none"),jQuery(this).css("-o-user-select","none"),jQuery(this).css("-moz-user-select","none"),jQuery(this).css("-khtml-user-select","none"),jQuery(this).css("-webkit-user-select","none")}),jQuery(".btn_play").click(function(){i.getPlayState()==NPlayer.PlayState.Playing?i.pause():i.play()}),jQuery(".btn_sound").click(e),jQuery(".btn_soundMute").click(e),jQuery(".btn_fullScr").click(t),jQuery(".btn_normalScr").click(t),jQuery(".btn_repeat").click(function(){i.setABRepeat(!i.getABRepeat())}),jQuery(".btn_seekPrev").click(function(){i.setFrameStep(parseInt(jQuery(".input_setSeekTime").val())),i.seek(i.getCurrentPlaybackTime()-i.getFrameStep(),0,0)}),jQuery(".btn_seekNext").click(function(){i.setFrameStep(parseInt(jQuery(".input_setSeekTime").val())),i.seek(i.getCurrentPlaybackTime()+i.getFrameStep(),0,0)}),jQuery(".btn_s06").click(function(){n(.6)}),jQuery(".btn_s07").click(function(){n(.7)}),jQuery(".btn_s08").click(function(){n(.8)}),jQuery(".btn_s09").click(function(){n(.9)}),jQuery(".btn_s10").click(function(){n(1)}),jQuery(".btn_s11").click(function(){n(1.1)}),jQuery(".btn_s12").click(function(){n(1.2)}),jQuery(".btn_s13").click(function(){n(1.3)}),jQuery(".btn_s14").click(function(){n(1.4)}),jQuery(".btn_s15").click(function(){n(1.5)}),jQuery(".btn_s16").click(function(){n(1.6)}),jQuery(".btn_s17").click(function(){n(1.7)}),jQuery(".btn_s18").click(function(){n(1.8)}),jQuery(".btn_s19").click(function(){n(1.9)}),jQuery(".btn_s20").click(function(){n(2)}),jQuery(".btn_s06_dot").click(function(){n(.6)}),jQuery(".btn_s07_dot").click(function(){n(.7)}),jQuery(".btn_s08_dot").click(function(){n(.8)}),jQuery(".btn_s09_dot").click(function(){n(.9)}),jQuery(".btn_s10_dot").click(function(){n(1)}),jQuery(".btn_s11_dot").click(function(){n(1.1)}),jQuery(".btn_s12_dot").click(function(){n(1.2)}),jQuery(".btn_s13_dot").click(function(){n(1.3)}),jQuery(".btn_s14_dot").click(function(){n(1.4)}),jQuery(".btn_s15_dot").click(function(){n(1.5)}),jQuery(".btn_s16_dot").click(function(){n(1.6)}),jQuery(".btn_s17_dot").click(function(){n(1.7)}),jQuery(".btn_s18_dot").click(function(){n(1.8)}),jQuery(".btn_s19_dot").click(function(){n(1.9)}),jQuery(".btn_s20_dot").click(function(){n(2)}),jQuery(document).bind("webkitfullscreenchange",npExitHandler),jQuery(".input_setSeekTime").blur(function(){var e=parseInt(jQuery(this).val());(e<0||isNaN(e))&&(e=1),jQuery(this).val(e),i.setFrameStep(e)}),jQuery(".track_back").bind("mousedown touchstart",function(e){var r=jQuery(this);function n(e){if(isNaN(i.getDuration()))return-1;var t=(c(e)-r.offset().left)/r.width()*i.getDuration(),n=i.getRepeatPointA(),u=i.getRepeatPointB();return-1!=n&&t<n&&(t=n),-1!=u&&u<t&&(t=u),t<0?t=0:t>i.getDuration()&&(t=i.getDuration()),t}function u(e){d(n(e)),e.preventDefault()}i.getSeekable()&&(o=!0,d(n(e)),jQuery(document).bind("mouseup touchend",function e(t){o=!1,i.setCurrentPlaybackTime(n(t)),jQuery(document).unbind("mousemove touchmove",u),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",u))}),jQuery(".track_repeatBtnA").bind("mousedown touchstart",function(e){var n=jQuery(this).parent();function u(e){var t=(c(e)-n.offset().left)/n.width()*i.getDuration();return t<0?t=0:t>i.getRepeatPointB()&&(t=i.getRepeatPointB()),t}function t(e){var t=e/i.getDuration()*100+"%",n=(i.getRepeatPointB()-e)/i.getDuration()*100+"%";jQuery(".track_repeatBtnA").css("left",t),jQuery(".track_repeat").css("left",t).css("width",n),jQuery("#text_currentTime").text(g(e))}function r(e){t(u(e)),e.preventDefault()}a=!0,t(u(e)),jQuery(document).bind("mouseup touchend",function e(t){a=!1,i.setRepeatPointA(u(t)),b(),jQuery(document).unbind("mousemove touchmove",r),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",r),e.stopPropagation()}),jQuery(".track_repeatBtnB").bind("mousedown touchstart",function(e){var n=jQuery(this).parent();function u(e){var t=(c(e)-n.offset().left)/n.width()*i.getDuration();return t<i.getRepeatPointA()?t=i.getRepeatPointA():t>i.getDuration()&&(t=i.getDuration()),t}function t(e){var t=e/i.getDuration()*100+"%",n=(e-i.getRepeatPointA())/i.getDuration()*100+"%";jQuery(".track_repeatBtnB").css("left",t),jQuery(".track_repeat").css("width",n),jQuery("#text_currentTime").text(g(e))}function r(e){t(u(e)),e.preventDefault()}a=!0,t(u(e)),jQuery(document).bind("mouseup touchend",function e(t){a=!1,i.setRepeatPointB(u(t)),b(),jQuery(document).unbind("mousemove touchmove",r),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",r),e.stopPropagation()}),jQuery(".sound_track_back").bind("mousedown touchstart",function(e){var n=jQuery(this);function u(e){var t=(c(e)-n.offset().left)/n.width();return t<0?t=0:1<t&&(t=1),t}function r(e){i.setVolume(u(e))}i.setVolume(u(e)),jQuery(document).bind("mouseup touchend",function e(t){i.setVolume(u(t)),jQuery(document).unbind("mousemove touchmove",r),jQuery(document).unbind("mouseup touchend",e)}),jQuery(document).bind("mousemove touchmove",r)}),i.bindEvent("OpenStateChanged",function(e){switch(e){case NPlayer.OpenState.Opened:_(i.getVolume()),m(i.getMute()),y(i.getCurrentPlaybackRate()),p(i.getDuration()),i.isControlBox()||i.setFrameStep(Number(jQuery(".input_setSeekTime").val()));break;case NPlayer.OpenState.Closed:d(0),p(0)}u(function(e){switch(e){case NPlayer.OpenState.Opening:return"Opening";case NPlayer.OpenState.Opened:return"Opened";case NPlayer.OpenState.Closing:return"Closing";case NPlayer.OpenState.Closed:return"Closed"}}(e))}),i.bindEvent("PlayStateChanged",function(e){switch(e){case NPlayer.PlayState.Playing:jQuery(".control_play > .btn_play").removeClass("btn_play").addClass("btn_pause");break;case NPlayer.PlayState.Paused:jQuery(".control_play > .btn_pause").removeClass("btn_pause").addClass("btn_play");break;case NPlayer.PlayState.Stopped:jQuery(".control_play > .btn_pause").removeClass("btn_pause").addClass("btn_play"),d(0<=i.getBeginPlaybackPosition()?i.getBeginPlaybackPosition():0)}u(f(e))}),i.bindEvent("BufferingData",function(e){u(e?"Buffering":f(i.getPlayState()))}),i.bindEvent("RateChanged",y),i.bindEvent("VolumeChanged",_),i.bindEvent("MuteChanged",m),i.bindEvent("RepeatPointAChanged",b),i.bindEvent("RepeatPointBChanged",b),i.bindEvent("PlaybackRangeChanged",function(e,t){if(0<=e&&0<=t){var n=e/i.getDuration()*100+"%",u=(t-e)/i.getDuration()*100+"%";jQuery(".track_range").css("left",n).css("width",u).show()}else jQuery(".track_range").hide()}),i.bindEvent("FrameStepChanged",function(e){jQuery(".input_setSeekTime").val(e)}),i.bindEvent("UpdateTime",function(e){o||d(e)}),i.bindEvent("DurationChanged",function(){p(i.getDuration())}),i.bindEvent("Macfullscreenchange",function(e){"true"==e?nplayerOnFullscreen():nplayerExitFullscreen()}),i.onGetControlBoxHeight=function(){return parseInt(jQuery(".wrapper_foot").height())},_(i.getVolume()),m(i.getMute()),y(i.getCurrentPlaybackRate()),p(i.getDuration());var r=jQuery(".track_seekBtn").get(0),s=jQuery(".track_current").get(0),l=jQuery("#text_currentTime");function d(e){if(!(e<0)){var t=i.getDuration(),n=(0<t?e/t*100:0)+"%";r.style.left=n,s.style.width=n,a||l.text(g(e))}}function p(e){e==1/0?(jQuery("#text_divider").hide(),jQuery("#text_duration").text("")):jQuery("#text_duration").text(g(e))}function y(e){for(var t=.5;t<=2.1;t+=.1){var n=t.toFixed(1).replace(".","");jQuery(".btn_s"+n+"_cur").removeClass("btn_s"+n+"_cur").addClass("btn_s"+n),jQuery(".btn_s"+n+"_dot_cur").removeClass("btn_s"+n+"_dot_cur").addClass("btn_s"+n+"_dot")}n=e.toFixed(1).replace(".","");jQuery(".btn_s"+n).removeClass("btn_s"+n).addClass("btn_s"+n+"_cur"),jQuery(".btn_s"+n+"_dot").removeClass("btn_s"+n+"_dot").addClass("btn_s"+n+"_dot_cur")}function _(e){e<=0?jQuery(".sound_btn > .btn_sound").removeClass("btn_sound").addClass("btn_soundMute"):jQuery(".sound_btn > .btn_soundMute").removeClass("btn_soundMute").addClass("btn_sound"),jQuery(".sound_track_cur").css("width",100*e+"%")}function m(e){i.getVolume()<=0&&(e=!0),e?(jQuery(".sound_btn > .btn_sound").removeClass("btn_sound").addClass("btn_soundMute"),jQuery(".sound_track_cur").css("width","0%")):(jQuery(".sound_btn > .btn_soundMute").removeClass("btn_soundMute").addClass("btn_sound"),jQuery(".sound_track_cur").css("width",100*i.getVolume()+"%"))}function b(e){if(i.getABRepeat()){jQuery(".control_repeat > .btn_repeat").removeClass("btn_repeat").addClass("btn_repeatHover");var t=i.getRepeatPointA()/i.getDuration()*100+"%",n=i.getRepeatPointB()/i.getDuration()*100+"%",u=(i.getRepeatPointB()-i.getRepeatPointA())/i.getDuration()*100+"%";jQuery(".track_repeatBtnA").css("left",t).show(),jQuery(".track_repeatBtnB").css("left",n).show(),jQuery(".track_repeat").css("left",t).css("width",u).show()}else jQuery(".control_repeat > .btn_repeatHover").removeClass("btn_repeatHover").addClass("btn_repeat"),jQuery(".track_repeatBtnA").hide(),jQuery(".track_repeatBtnB").hide(),jQuery(".track_repeat").hide()}function f(e){switch(e){case NPlayer.PlayState.Playing:return"Playing";case NPlayer.PlayState.Paused:return"Paused";case NPlayer.PlayState.Stopped:return"Stopped"}}function g(e){e||(e=0);var t=parseInt(e)%60,n=parseInt(e/60)%60;function u(e){return e<10?"0"+e:e}return[u(parseInt(e/60/60)),u(n),u(t)].join(":")}}function nplayerOnFullscreen(){0!=jQuery("#pinned").length&&jQuery("#pinned").attr("checked")||$(".wrapper_foot").delay(3e3).animate({opacity:"0"},10),$(".wrapper_foot").bind("mouseenter",function(){$(this).stop(!0,!0).css("opacity","1")}).bind("mouseleave",function(){0!=jQuery("#pinned").length&&jQuery("#pinned").attr("checked")||$(this).delay(3e3).animate({opacity:"0"},10)}),$("a.btn_fullScr").removeClass("btn_fullScr").addClass("btn_normalScr"),hideContextMenu()}function nplayerExitFullscreen(){$(".wrapper_foot").stop(!0,!0).css("opacity","1"),$(".wrapper_foot").unbind("mouseenter").unbind("mouseleave"),$("a.btn_normalScr").removeClass("btn_normalScr").addClass("btn_fullScr"),hideContextMenu()}function npExitHandler(){var e=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString();document.webkitIsFullScreen&&e?$(".input_setSeekTime").css({"pointer-events":"none",opacity:"0.7"}):$(".input_setSeekTime").css({"pointer-events":"",opacity:""})}function showContextMenu(e){var t=g__nplayer_internal_object;if(t){g__init_contextmenu||initContextMenu(e),$(".np-menuitem").removeClass("show"),t.getPlayState()==NPlayer.PlayState.Paused?$(".np-menuitem-btnplay").addClass("show"):t.getPlayState()==NPlayer.PlayState.Playing&&$(".np-menuitem-btnpause").addClass("show"),t.getFullscreen()?$(".np-menuitem-btnnormalscreen").addClass("show"):$(".np-menuitem-btnfullscreen").addClass("show"),0<t.getSubtitleCount()&&(0==t.getSubtitleVisible()?$(".np-menuitem-subtitle-show").addClass("show"):$(".np-menuitem-subtitle-hide").addClass("show")),document.getElementsByTagName("video")[0].webkitSupportsPresentationMode&&"function"==typeof document.getElementsByTagName("video")[0].webkitSetPresentationMode&&("inline"==document.getElementsByTagName("video")[0].webkitPresentationMode?$(".np-menuitem-pipshow").addClass("show"):$(".np-menuitem-piphide").addClass("show")),$(".np-menuitem.np-menuitem-custom").addClass("show"),$(".np-vheight").height(32*$(".np-menuitem.show").length+16);var n=e.pageX+5,u=e.pageY+5,r=$("#"+g__fullscreen_layout_id__+" video").innerWidth(),i=$("#"+g__fullscreen_layout_id__+" video").innerHeight();if(0<$(".np-contextmenu[data-enable='true']").length&&0<r&&0<i){var o=$(".np-contextmenu[data-enable='true']").width(),a=$(".np-contextmenu[data-enable='true']").height();r<n+o+5&&i<u+a+5?(u-=a+7,n-=o+7):(i<u+a+5&&(u=i-a-5),r<n+o+5&&(n=r-o-5)),$(".np-contextmenu[data-enable='true']").css({top:u+"px",left:n+"px"}).fadeIn(80)}return!1}}function hideContextMenu(){$(".np-contextmenu").hide()}var g__nplayer_internal_object;jQuery(document).bind("contextmenu",function(e){e.preventDefault()}),jQuery(document).bind("click",function(e){3!=e.which&&hideContextMenu()}),jQuery(document).bind("fullscreenchange",function(){document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?nplayerOnFullscreen():nplayerExitFullscreen()}),jQuery(document).bind("webkitfullscreenchange",function(){document.webkitIsFullScreen?nplayerOnFullscreen():nplayerExitFullscreen()}),jQuery(document).bind("mozfullscreenchange",function(){document.mozFullScreen?nplayerOnFullscreen():nplayerExitFullscreen()}),jQuery(document).bind("MSFullscreenChange",function(){document.msFullscreenElement?nplayerOnFullscreen():nplayerExitFullscreen()});var g__init_contextmenu=!1;function initContextMenu(e){var t=g__nplayer_internal_object;g__init_contextmenu=!0,$(".np-menuitem").bind("click",function(){hideContextMenu()}),$(".np-menuitem-btnplay").bind("click",function(){t.play()}),$(".np-menuitem-btnpause").bind("click",function(){t.pause()}),$(".np-menuitem-btnfullscreen").bind("click",function(){t.setFullscreen(!0)}),$(".np-menuitem-btnnormalscreen").bind("click",function(){t.setFullscreen(!1)}),$(".np-menuitem-subtitle-show").bind("click",function(){t.setSubtitleVisible(!0)}),$(".np-menuitem-subtitle-hide").bind("click",function(){t.setSubtitleVisible(!1)}),$(".np-menuitem-pipshow").bind("click",function(){document.getElementsByTagName("video")[0].webkitSetPresentationMode("picture-in-picture")}),$(".np-menuitem-piphide").bind("click",function(){document.getElementsByTagName("video")[0].webkitSetPresentationMode("inline")})}var g__fullscreen_layout_id__="maincontent";